<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# consul

```go
import "github.com/gojek/courier-go/consul"
```

Package consul provides a Consul\-based service discovery resolver for courier\-go.

## Index

- [type Config](#Config)
  - [func DefaultConfig\(\) \*Config](#DefaultConfig)
  - [func \(c \*Config\) Validate\(\) error](#Config.Validate)
- [type Resolver](#Resolver)
  - [func NewResolver\(config \*Config\) \(\*Resolver, error\)](#NewResolver)
  - [func \(r \*Resolver\) Done\(\) \<\-chan struct\{\}](#Resolver.Done)
  - [func \(r \*Resolver\) Start\(\)](#Resolver.Start)
  - [func \(r \*Resolver\) Stop\(\)](#Resolver.Stop)
  - [func \(r \*Resolver\) UpdateChan\(\) \<\-chan \[\]courier.TCPAddress](#Resolver.UpdateChan)


<a name="Config"></a>
## type [Config](https://github.com/gojek/courier-go/blob/main/consul/config.go#L9-L17)



```go
type Config struct {
    ConsulAddress string
    ServiceName   string
    Tags          []string
    HealthyOnly   bool
    KVKey         string
    WatchInterval time.Duration
    Logger        *log.Logger
}
```

<a name="DefaultConfig"></a>
### func [DefaultConfig](https://github.com/gojek/courier-go/blob/main/consul/config.go#L19)

```go
func DefaultConfig() *Config
```



<a name="Config.Validate"></a>
### func \(\*Config\) [Validate](https://github.com/gojek/courier-go/blob/main/consul/config.go#L27)

```go
func (c *Config) Validate() error
```



<a name="Resolver"></a>
## type [Resolver](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L17-L39)

Resolver implements courier.Resolver interface using Consul for service discovery.

```go
type Resolver struct {
    // contains filtered or unexported fields
}
```

<a name="NewResolver"></a>
### func [NewResolver](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L41)

```go
func NewResolver(config *Config) (*Resolver, error)
```



<a name="Resolver.Done"></a>
### func \(\*Resolver\) [Done](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L80)

```go
func (r *Resolver) Done() <-chan struct{}
```

Done returns a channel that is closed when the resolver is stopped.

<a name="Resolver.Start"></a>
### func \(\*Resolver\) [Start](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L98)

```go
func (r *Resolver) Start()
```

Start the resolver's main loop for service discovery and KV watching.

<a name="Resolver.Stop"></a>
### func \(\*Resolver\) [Stop](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L85)

```go
func (r *Resolver) Stop()
```

Stop gracefully stops the resolver.

<a name="Resolver.UpdateChan"></a>
### func \(\*Resolver\) [UpdateChan](https://github.com/gojek/courier-go/blob/main/consul/resolver.go#L75)

```go
func (r *Resolver) UpdateChan() <-chan []courier.TCPAddress
```

UpdateChan returns a channel that provides service address updates.

Generated by [gomarkdoc](https://github.com/princjef/gomarkdoc)
