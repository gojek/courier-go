<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xds

```go
import "github.com/gojek/courier-go/xds"
```

Package xds contains the client that can be used to interact with the management server to receive address updates for subscribed clusters

## Index

- [type Client](#Client)
  - [func NewClient\(opts Options\) \*Client](#NewClient)
  - [func \(c \*Client\) Done\(\) \<\-chan struct\{\}](#Client.Done)
  - [func \(c \*Client\) Receive\(\) \<\-chan \[\]\*v3endpointpb.ClusterLoadAssignment](#Client.Receive)
  - [func \(c \*Client\) Start\(ctx context.Context\) error](#Client.Start)
- [type Options](#Options)


<a name="Client"></a>
## type [Client](https://github.com/gojek/courier-go/blob/main/xds/client.go#L69-L80)

Client performs the actual ADS RPCs using the ADS v3 API. It creates an ADS stream on which the xdsTarget resources are received.

```go
type Client struct {
    // contains filtered or unexported fields
}
```

<a name="NewClient"></a>
### func [NewClient](https://github.com/gojek/courier-go/blob/main/xds/client.go#L40)

```go
func NewClient(opts Options) *Client
```

NewClient returns a new ADS client stream using the \*grpc.ClientConn provided.

<a name="Client.Done"></a>
### func \(\*Client\) [Done](https://github.com/gojek/courier-go/blob/main/xds/client.go#L88)

```go
func (c *Client) Done() <-chan struct{}
```

Done returns a channel which is closed when the run loop stops due to context expiry

<a name="Client.Receive"></a>
### func \(\*Client\) [Receive](https://github.com/gojek/courier-go/blob/main/xds/client.go#L83)

```go
func (c *Client) Receive() <-chan []*v3endpointpb.ClusterLoadAssignment
```

Receive returns a channel where ClusterLoadAssignment resource updates can be received

<a name="Client.Start"></a>
### func \(\*Client\) [Start](https://github.com/gojek/courier-go/blob/main/xds/client.go#L93)

```go
func (c *Client) Start(ctx context.Context) error
```

Start will wait updates from control plane, it is non\-blocking

<a name="Options"></a>
## type [Options](https://github.com/gojek/courier-go/blob/main/xds/client.go#L31-L37)

Options specifies options to be provided for initialising the xds client

```go
type Options struct {
    XDSTarget       string
    NodeProto       *v3corepb.Node
    ClientConn      grpc.ClientConnInterface
    BackoffStrategy backoff.Strategy
    Logger          log.Logger
}
```

Generated by [gomarkdoc](https://github.com/princjef/gomarkdoc)
